"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[542],{2542:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main"}},[a("div",{staticClass:"title"},[e._v("X 云盘")]),a("div",{staticClass:"container"},[a("div",{staticClass:"opt"},[a("div",{class:1==e.unchoosed?"unchoosed":"",on:{click:function(t){e.unchoosed=2}}},[e._v(" 登录 ")]),a("div",{class:2==e.unchoosed?"unchoosed":"",on:{click:function(t){e.unchoosed=1}}},[e._v(" 注册 ")])]),2==e.unchoosed?a("div",{staticClass:"form"},[a("form",[a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"fm-text",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pw,expression:"pw"}],staticClass:"fm-text",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.pw},on:{input:function(t){t.target.composing||(e.pw=t.target.value)}}})]),a("div",{staticClass:"input-box"},[a("button",{on:{click:e.login}},[e._v("登录")])]),a("div",{staticClass:"check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autoLogin,expression:"autoLogin"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoLogin)?e._i(e.autoLogin,null)>-1:e.autoLogin},on:{change:function(t){var a=e.autoLogin,s=t.target,o=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&(e.autoLogin=a.concat([i])):n>-1&&(e.autoLogin=a.slice(0,n).concat(a.slice(n+1)))}else e.autoLogin=o}}}),e._v("下次自动登录 ")])])]):e._e(),1==e.unchoosed?a("div",{staticClass:"form"},[a("form",[a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"fm-text",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pw,expression:"pw"}],staticClass:"fm-text",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.pw},on:{input:function(t){t.target.composing||(e.pw=t.target.value)}}})]),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.rpw,expression:"rpw"}],staticClass:"fm-text",attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:e.rpw},on:{input:function(t){t.target.composing||(e.rpw=t.target.value)}}})]),a("div",{staticClass:"input-box"},[a("button",{on:{click:e.register}},[e._v("注册")])])])]):e._e()])])},o=[],i=a(3228),n={name:"login",data(){return{unchoosed:2,autoLogin:!0,username:"",pw:"",rpw:""}},watch:{unchoosed:{handler(){this.username="",this.pw="",this.rpw=""}}},methods:{async login(){if(""!=this.username&&""!=this.pw){var e=new URLSearchParams;e.append("username",this.username),e.append("password",this.pw);try{await this.$store.dispatch("login",{params:e,autoLogin:this.autoLogin}),alert("登录成功"),this.$router.push("/home/folder")}catch(t){alert(t.message)}}},async register(){if(""!=this.username&&""!=this.pw&&this.rpw==this.pw){var e=new URLSearchParams;e.append("username",this.username),e.append("password",this.pw);try{await(0,i.zb)(e),alert("注册成功")}catch(t){alert(t.message)}}else alert("输入信息不合法")}}},r=n,u=a(1001),c=(0,u.Z)(r,s,o,!1,null,null,null),l=c.exports}}]);